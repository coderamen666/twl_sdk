<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>

<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 8.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
<TITLE>MIC_AdjustAutoSamplingAsync</TITLE>
</HEAD>

<BODY>

<H1 align="left">MIC_AdjustAutoSamplingAsync <img src="../../image/NTR.gif"><img src="../../image/TWL.gif"></H1>

<H2>Syntax</H2>
<DL>
  <DD>
<CODE>#include &lt;nitro/spi.h&gt;</CODE><BR>
  <PRE><CODE><A href="MICResult.html">MICResult</A> MIC_AdjustAutoSamplingAsync(
          u32             rate,
          <A href="MICCallback.html">MICCallback</A>     callback,
          void*           arg );</CODE></PRE>

  </DD>
</DL>

<H2>Arguments</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="300"><EM><STRONG><FONT face="Courier New">rate</FONT></STRONG></EM></TD>
<TD width="700">The sampling rate. Directly specifies ARM7 CPU timer cycles.<br>Can also be selected from the <CODE><A href="MICSamplingRate.html">MICSamplingRate</A></CODE> enumerated type.</TD>
    </TR>
    <TR>
<TD><EM><STRONG><FONT face="Courier New">callback</FONT></STRONG></EM></TD>
<TD>Specifies the pointer to the callback function. This callback is called from within the interrupt handler.</TD>
    </TR>
    <TR>
<TD><EM><STRONG><FONT face="Courier New">arg</FONT></STRONG></EM></TD>
<TD>Specifies the argument passed to the callback function.</TD>
    </TR>
  </TBODY>
</TABLE>

<H2>Return Values</H2>
<P>
Returns the processing result as a <CODE><A href="MICResult.html">MICResult</A></CODE> enumerated type. Returns <CODE>MIC_RESULT_SUCCESS</CODE> if the asynchronous process starts normally, and some other value if the process fails for some reason.
</P>

<H2>Description</H2>
<P>
Asynchronously adjusts the sampling rate of the microphone's auto-sampling.<br />This function issues a request to the ARM7 to adjust auto-sampling and returns control to the caller without waiting for a response. You must use the <CODE>result</CODE> argument passed by the user callback function to get the ARM7 processing result. If this function fails, the asynchronous operation is not performed and the user callback function is not called. This is only valid when auto-sampling has already begun. The CPU timer cycle is updated when the ARM7 receives the request, not earlier.
</P>
<P>
This function returns <CODE>MIC_RESULT_INVALID_COMMAND</CODE> when the CODEC is running in CODEC-TWL mode because auto-sampling cannot be run at an arbitrary frequency in CODEC-TWL mode. In other words, this function can only be used when the CODEC is running in CODEC-DS mode.
</P>

<H2>See Also</H2>
<P>
<code><a href="MIC_AdjustAutoSampling.html">MIC_AdjustAutoSampling</a><BR><a href="MIC_StartAutoSamplingAsync.html">MIC_StartAutoSamplingAsync</a><BR><a href="MIC_StopAutoSamplingAsync.html">MIC_StopAutoSamplingAsync</a></code>
</P>

<H2>Revision History</H2>
<P>
2009/05/14 Added the TWL icon and a description related to CODEC. <BR>2008/01/09 Revised a description of differences in behavior due to the CODEC mode. <BR>2007/11/17 Added a description of operations on the TWL platform. <BR>2005/06/27 Added supplementary information stating that the callback is invoked from the interrupt handler. <br>2005/01/11 Initial version.<BR>
</P>
<hr><p>CONFIDENTIAL</p></body>
</HTML>
