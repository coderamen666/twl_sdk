<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>CARD_WriteFlash</title>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</head>

<body>

<h1 align="left">CARD_WriteFlash <img src="../../image/NTR.gif"align="middle"><img src="../../image/TWL.gif" align="middle"></H1>
<H2>Syntax</H2>

<dl>
  <dd>
<CODE>#include &lt;nitro/card.h&gt;</CODE><BR>
  <BR>
  <CODE>BOOL	CARD_WriteFlash(u32 dst, const void *src, u32 len);</CODE><br>
  <br>
  </dd>
</dl>
<h2>Arguments</h2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
      <TD width="13%"><EM><STRONG>dst</STRONG></EM></TD>
      <TD width="87%">The FLASH address of the transfer destination.</TD>
    </TR>
    <TR>
      <TD width="13%"><EM><STRONG>src</STRONG></EM></TD>
      <TD width="87%">Transfer source memory address.</TD>
    </TR>
    <TR>
      <TD width="13%"><EM><STRONG>len</STRONG></EM></TD>
      <TD width="87%">Byte length of data to be written.</TD>
    </TR>
  </TBODY>
</TABLE>

<h2>Return Values</h2>
<p>TRUE if the process succeeds. FALSE otherwise.</p>

<H2>Description</H2>
<P>This function writes data to the FLASH device. The function does not return control until it has finished processing. It returns TRUE if the process was successful or FALSE if it failed. To get the detailed result value when processing fails, call the <A href="../common/CARD_GetResultCode.html"><CODE>CARD_GetResultCode</CODE></A> function.
</P>

<h2>Note</h2>
<ul>
<li>To use this function, you must first lock the access bus with the <A href="../backup/CARD_LockBackup.html"><CODE>CARD_LockBackup</CODE></A> function.</li>
<li>This function communicates with the ARM7 processor internally via PXI. The process will not end if PXI interrupts are not enabled.</li>
<li style="color:Red">Because some high-capacity flash devices do not support &quot;Write&quot; operations, <a href="../card_result_const.html">CARD_RESULT_UNSUPPORTED</a> is returned and execution fails even if this function is called. See the <a href="../overview/about_Backup.html"><B>Backup Access Overview</B></a> for more details, and then use substitute functions, such as <a href="CARD_WriteFlashSector.html"><CODE>CARD_WriteFlashSector</CODE></a>, when necessary.</li>
</ul>

<h2>See Also</h2>
<p><CODE><A href="../common/CARD_GetResultCode.html">CARD_GetResultCode</A>, <A href="CARD_IsBackupFlash.html">CARD_IsBackupFlash</A>, <A href="CARD_WriteFlashAsync.html">CARD_WriteFlashAsync</A>, <A href="CARD_ReadFlash.html">CARD_ReadFlash</A>, <A href="CARD_VerifyFlash.html">CARD_VerifyFlash</A>, <A href="CARD_WriteAndVerifyFlash.html">CARD_WriteAndVerifyFlash</A></CODE></p>

<H2>Revision History</H2>
<P>
2007/11/13 Added a description of the fact that some high-capacity flash devices cannot use this function. <br />2004/12/09 Changed &quot;IO processor&quot; to &quot;ARM7 processor&quot;. <br>2004/08/31 Added a description for the <code>CARD_GetResultCode</code> function. <br>2004/08/23 Initial version.<BR>
</P>
<hr><p>CONFIDENTIAL</p></body>
</html>
