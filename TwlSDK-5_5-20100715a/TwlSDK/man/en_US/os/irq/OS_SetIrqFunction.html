<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>OS_SetIrqFunction</title>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</head>

<body>

<h1 align="left">OS_SetIrqFunction <IMG src="../../image/NTR.gif" align="middle"><IMG src="../../image/TWL.gif" align="middle"></h1>
<h2>Syntax</h2>

<dl>
  <dd>
<CODE>#include &lt;nitro/os.h&gt;</CODE><BR>
  <BR>
  <CODE>void OS_SetIrqFunction( OSIrqMask intr, OSIrqFunction function );</CODE></dd>
</dl><h2>Arguments</h2>
<TABLE border="1">
  <TBODY>
    <TR>
      <TD><B><I>intr</I></B></TD>
      <TD>The IRQ interrupt cause(s) to set.</TD>
    </TR>
    <TR>
      <TD><B><I>function</I></B></TD>
      <TD>Interrupt handler.</TD>
    </TR>
  </TBODY>
</TABLE>
<h2>Return Values</h2>
<p>None.</p>
<H2>Description</H2>
<P>This function sets the interrupt handler.</P>
<P>This function sets the function (that is, the interrupt handler) to which control jumps when the specified IRQ interrupt(s) occur. In <EM><STRONG>intr</STRONG></EM>, specify the IRQ interrupt cause for which to set a handler. In <B><I>function</I></B>, specify the handler.</P>
<P>The interrupt handler belongs to the <code>OSIrqFunction</code> type . It is a <CODE>void</CODE> function, without arguments.</P>
<H3><BR>Types of Interrupts</H3>
<P>See below for information on the types of interrupts.</P>
<P><A href="interrupts_list.html">Types of Interrupts</A></P>
<H3><BR> For example:</H3>
<BLOCKQUOTE style="background-color:#ffffd0;"><CODE>main()<BR> {<BR> :<BR>OS_InitIrqTable();<BR> OS_SetIrqFunction( OS_IE_V_BLANK, vhandler );<BR> :<BR>}<BR> <BR> void vhandler( void )<BR> {<BR> // V-Blank interrupt process<BR> }</CODE></BLOCKQUOTE>
<H3><BR> Note:</H3>
<P>You need to be cautious about timer interrupts. With the hardware timer specifications, the set timer interrupts are generated repeatedly. With the OS, the settings for the registered handler are released when the first interrupt is generated, so only that first timer interrupt is generated. To generate repeated timer interrupts, processing to carry out settings needs to be done again in the interrupt handler.</P>
<h2>See Also</h2>
<p><a href="OS_SetIrqMask.html"><code>OS_SetIrqMask</code></a>, <a href="OS_InitIrqTable.html"><code>OS_InitIrqTable</code></a>, <a href="OS_GetIrqFunction.html"><code>OS_GetIrqFunction</code></a></p>
<H2>Revision History</H2>
<P>
2005/03/08 Standardized the Japanese term for &quot;interrupt.&quot;<br /> 2004/06/03 Added note about timer interrupts.<BR>2003/12/01 Initial version.</P>
<hr><p>CONFIDENTIAL</p></body>
</html>
