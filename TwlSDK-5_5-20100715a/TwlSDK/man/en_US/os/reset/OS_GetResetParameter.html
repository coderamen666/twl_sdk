<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>OS_GetResetParameter</TITLE>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>
<BODY>
<H1 align="left">OS_GetResetParameter <img src="../../image/TWL.gif" align="middle"><img src="../../image/NTR.gif" align="middle"></H1>
<H2>Syntax</H2>
<DL>
  <DD><CODE>#include &lt;nitro/os.h&gt;</CODE><BR>

  <BR>

  <CODE>u32 OS_GetResetParameter( void );</CODE>
</DL>
<H2>Arguments</H2>
<P>None.</P>
<H2>Return Values</H2>
<P>The value of the reset parameter. This function returns 0 from the time that power is turned on until the <A href="OS_ResetSystem.html"><CODE>OS_ResetSystem</CODE></A> function is called.</P>
<H2>Description</H2>
<P>Gets the reset parameter value.</P>
<P>The reset parameter is the value that is provided by the parameter argument of the most recent <A href="OS_ResetSystem.html"><code>OS_ResetSystem</code></A> function. This function returns 0 from the time that power is turned on until the <CODE>OS_ResetSystem</CODE> function is called.</P>
<P><B>Example:</B></P>

<BLOCKQUOTE style="background-color:#ffffd0;">
<BLOCKQUOTE><PRE>u32 n;
NitroMain()
{
            :
    n = <FONT color="#ff0000">OS_GetResetParameter();</FONT>
    OS_Printf( &quot;%d\n&quot;, n );
            :
    <FONT color="#ff0000">OS_ResetSystem( n + 1 );</FONT>
}</PRE></BLOCKQUOTE>
</BLOCKQUOTE>

<P>In the above example, 0 is displayed first. Each reset after that displays 1, 2, 3, ..., and so on.</P>
<H2>Internal Operation</H2>
<P>The reset parameter is held in the 4-byte region that comes after <CODE>HW_RESET_PARAMETER_BUF</CODE>. The 4-byte region is loaded in the system shared region and is not cleared by a reset. This function reads and returns the value in this region.<br />The <A href="OS_ResetSystem.html"><CODE>OS_ResetSystem</CODE></A> function can only be called with the card boot application, so this function always returns 0 if called in another startup mode.
</P>
<H2>See Also</H2>
<P><A href="OS_InitReset.html"><code>OS_InitReset</code></A><BR>
 <A href="OS_ResetSystem.html"><code>OS_ResetSystem</code></A></P>
<H2>Revision History</H2>
<P>
2009/07/02 Revised <B>Description</B> because support was added for software reset also in TWL mode.<br />2009/06/08 Explained that <CODE>OS_ResetSystem</CODE> is functional only in NITRO mode.<BR>
2004/09/01 Initial version.</P>
<hr><p>CONFIDENTIAL</p></body>
</HTML>