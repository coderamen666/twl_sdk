<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.1.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>OS_AddExtraAreaToHeap</TITLE>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>
<BODY>
<H1 align="left">OS_AddExtraAreaToHeap<IMG src="../../image/TWL.gif" align="middle"></H1>
<H2>Syntax</H2>
<DL>
  <DD>
  <PRE><CODE>#include &lt;nitro/os.h&gt;</CODE></PRE>
  <PRE><CODE>void OS_AddExtraAreaToHeap( OSArenaId id, OSHeapHandle heap );</CODE></PRE>
</DL>
<H2>Arguments</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="13%"><EM><STRONG>id</STRONG></EM></TD>
<TD width="87%">Arena ID of the arena for a heap to which the 16-KB region of the top of the main memory will be added.</TD>
    </TR>
    <TR>
<TD><B><I>heap</I></B></TD>
<TD>Handle of a heap to which the 16-KB region of the top of the main memory will be added.</TD>
    </TR>
  </TBODY>
</TABLE>
<H2>Return Values</H2>
<P>None.</P>
<H2>Description</H2>
<P>A 16-KB region memory block from the top of main memory is added to the existing heap region.</P>
<P>This function has special uses. (The added region is fixed at 16 KB of the bottom of main memory that is possible when a hybrid ROM is running in NITRO mode.) The function that adds the main memory block to the existing heap, for ordinary purposes, is the <A href="OS_AddToHeap.html"><CODE>OS_AddToHeap</CODE></A> function. Note that the <CODE>OS_AddExtraAreaToHeap</CODE> function is an inline function that internally calls the <CODE>OS_AddToHeap</CODE> function</P>
<P>With TWL ROM (both hybrid and limited ROM), a system reserved region of 16 KB is created at the bottom of the main memory. However, this region can be used only when running in TWL mode. In other words, when a hybrid ROM is running in NITRO mode on NITRO hardware, this 16 KB is not used at all.</P>
<P>This function allocates the empty 16-KB region to the heap of the specified arena. <FONT color="#ff0000">This function cannot be called for NITRO ROM and TWL limited ROM.</FONT>(It exists only with hybrid ROM, so a compile error will be generated. )  Also, <FONT color="#ff0000">This function does nothing even if called while a hybrid ROM is running on TWL hardware in TWL mode.</FONT></P>
<P>The arena is specified with the arena ID (<SPAN class="argument">id</SPAN>). For more information on this value, see the <a  href="../arena/OS_InitArena.html"><code>OS_InitArena</code></a> function. The arena must have memory allocated with the <CODE>OS_InitAlloc</CODE> function and have been initialized in advance.</P>
<P>This function <FONT color="#ff0000">adds the 16-KB region to the existing heap.</FONT>See the <A href="OS_CreateExtraHeap.html"><CODE>OS_CreateExtraHeap</CODE></A> function for more information on creating a heap using a 16-KB region Note that both cannot be run simultaneously.</P>
<H2>See Also</H2>
<P><A href="OS_AddToHeap.html"><CODE>OS_AddToHeap</CODE></A><BR> <A href="OS_CreateExtraHeap.html"><CODE>OS_CreateExtraHeap</CODE></A></P>
<H2>Revision History</H2>
<P>2009/04/03 Initial version.</P>
<hr><p>CONFIDENTIAL</p></body>
</HTML>