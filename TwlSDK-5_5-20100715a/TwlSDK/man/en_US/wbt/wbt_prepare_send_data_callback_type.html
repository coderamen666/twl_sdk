<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>WBTPrepareSendDataCallback</title>
<LINK rel="stylesheet" href="../css/nitro.css" type="text/css">
</head>
<body>
<h1 align="left">WBTPrepareSendDataCallback</h1>
<h2>Definition</h2>
<dl>
  <dd>
<CODE>#include &lt;nitro/wbt.h&gt;</CODE><BR>
  <BR>
<pre>
typedef	struct
{
	u32 block_id;
	s32 block_seq_no; 
	void *data_ptr;
	s16 own_packet_size;
	u16 padd;
} WBTPrepareSendDataCallback;
</pre>
  </dd>
</dl>
<H2>Description</H2>
<P>The structure passed by the callback when the data buffer is not specified with the <a href="common/WBT_RegisterBlock.html"><CODE>WBT_RegisterBlock</CODE></a> function.<BR><br> The details of each member are as follows.<BR>
<TABLE border="0">
  <TBODY>
    <TR>
      <TD><CODE>block_id</CODE></TD>
      <TD>Requested block ID.</TD>
    </TR>
    <TR>
      <TD><CODE>block_seq_no</CODE></TD>
      <TD>Requested sequence number.</TD>
    </TR>
    <TR>
      <TD><CODE>data_ptr</CODE></TD>
      <TD>Pointer specifying the data buffer.
    </TR>
    <TR>
      <TD><CODE>own_packet_size</CODE></TD>
      <TD>Packet size that becomes the unit of the sequence number.</TD>
    </TR>
  </TBODY>
</TABLE>
When the user already has prepared data of <CODE>own_packet_size</CODE> from the N x <CODE>own_packet_size</CODE> location for any sequence number N, substitutes N for <CODE>block_seq_no</CODE> during callback, and specifies corresponding buffer for <CODE>data_ptr</CODE>. When no sequence number can respond immediately, substitutes <CODE>NULL</CODE> for <CODE>data_ptr</CODE>. The specified buffer is copied immediately to the call source of the callback, so it need not be retained. For user callbacks, the WBT library requests the order sequence number to facilitate efficient processing in the following order: <br /> &quot;previous request number is saved for this time, and the current request number is reserved for next time.&quot; <br>
</P>
<h2>See Also</h2>
<p></p>
<H2>Revision History</H2>
<P>
2004/09/21 Initial version.</P>
<hr><p>CONFIDENTIAL</p></body>
</html>
