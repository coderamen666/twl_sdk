<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 8.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>WMPortSendCallback</title>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</head>

<body>

<h1 align="left">WMPortSendCallback</h1>

<h2>Definition</h2>

<dl>
  <dd>
<CODE>#include &lt;nitro/wm.h&gt;</CODE><BR>
  <PRE><CODE>typedef struct WMPortSendCallback
{
    u16             apiid;
    u16             errcode;
    u16             wlCmdID;
    u16             wlResult;
    u16             state;
    u16             port;
    u16             destBitmap;
    u16             restBitmap;
    u16             sentBitmap;
    u16             rsv;
    const u16       *data;
    u16             length;
    u16             seqNo;
    WMCallbackFunc  callback;
    void            *arg;

} WMPortSendCallback;</CODE></PRE>
  </dd>

</dl><h2>Elements</h2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="200"><em><strong><font face="Courier New">apiid</font></strong></em></TD>
<TD width="800">ID of the API that acts as the source for the callback generation. It is equivalent to the <A href="WMApiid.html"><code>WMApiid</code></A> enumerated type. Here, <SPAN class="argument">apiid</SPAN> is set to WM_APIID_SET_MP_DATA.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">errcode</font></strong></em></TD>
<TD width="800">Result of the asynchronous process. It is equivalent to the <A href="WMErrCode.html"><code>WMErrCode</code></A> enumerated type.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">wlCmdID</font></strong></em></TD>
<TD width="800">If <CODE>errcode</CODE> is <CODE>WM_ERRCODE_FAILED</CODE>, this stores the ID of the command that caused the wireless-firmware error.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">wlResult</font></strong></em></TD>
<TD width="800">If <CODE>errcode</CODE> is <CODE>WM_ERRCODE_FAILED</CODE>, this stores the code of what caused the error in the wireless firmware.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">state</font></strong></em></TD>
<TD width="800">If <CODE>errcode</CODE> is <CODE>WM_ERRCODE_SUCCESS</CODE>, this stores the <A href="WMStateCode.html">state code</A> generated by the callback. Currently, only <code>WM_STATECODE_PORT_SEND</code> is generated.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">port</font></strong></em></TD>
<TD width="800">Port that sends the data.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">destBitmap</font></strong></em></TD>
<TD width="800">Bitmap of the association IDs (AIDs) assigned to the send destinations.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">restBitmap</font></strong></em></TD>
<TD width="800">Bitmap of the association IDs (AIDs) of the send destinations for which retries are necessary. The bitmap will not include any AIDs for which it is clear that the send will not succeed for reasons such as disconnection or no connection having been established.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">sentBitmap</font></strong></em></TD>
<TD width="800">Bitmap of those AIDs for the communications partners to which data was actually sent (among the send destinations designated by <code>destBitmap</code>). Although it is guaranteed that the data will have arrived at communications partners included in <CODE>sentBitmap</CODE>, there is no guarantee that data will not have arrived at communications partners not included in <CODE>sentBitmap</CODE>.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">rsv</font></strong></em></TD>
<TD width="800">Reserved.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">data</font></strong></em></TD>
<TD width="800">Address of the buffer that sent the data.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">length</font></strong></em></TD>
<TD width="800">Data length that was sent.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">seqNo</font></strong></em></TD>
<TD width="800">Sequence number.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">callback</font></strong></em></TD>
<TD width="800">Field that the library uses internally. The address of the called callback function is stored here.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">arg</font></strong></em></TD>
<TD width="800">Argument that is specified by the <a href="WM_SetPortCallback.html"><code>WM_SetPortCallback</code></a> function.</TD>
    </TR>
  </TBODY>
</TABLE>

<H2>Description</H2>
<P>
This is a structure passed to the callback function for each of the <A href="WM_SetMPDataToPort.html"><code>WM_SetMPDataToPort</code></A>, <A href="WM_SetMPDataToPortEx.html"><code>WM_SetMPDataToPortEx</code></A>, and <A href="WM_SetMPData.html"><code>WM_SetMPData</code></A> functions. 
</P>
<P>
<code>WM_ERRCODE_SUCCESS</code> goes in the errcode field if the send was a success, <code>WM_ERRCODE_SEND_FAILED</code> goes in if the send failed, and <code>WM_ERRCODE_SEND_QUEUE_FULL</code> goes in if the send queue is full. Note that even if the destinations specified with <code>destBitmap</code> include AIDs where data cannot be sent to due to a disconnection during the send or a connection not yet existing, <code>WM_ERRCODE_SUCCESS</code> will be returned if everything was sent to the remaining communications partners to which data could be sent. Compare the <code>destBitmap</code> and the <code>sentBitmap</code> to confirm that everything was actually sent to the designated send destinations.
</P>

<H2>Revision History</H2>
<P>
2009/09/29 Corrected an error regarding the description of <SPAN class="argument">apiid</SPAN>.<br/>2005/03/04 Initial version.
</P>
<hr><p>CONFIDENTIAL</p></body>
</html>
