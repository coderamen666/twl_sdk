<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.1.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>MI_HBlankDmaCopy*</TITLE>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>
<BODY>
<H1 align="left">MI_HBlankDmaCopy* <IMG src="../../image/NTR.gif" align="middle"><IMG src="../../image/TWL.gif" align="middle"></H1>
<H2>Syntax</H2>
<DL>
<DD><CODE>#include &lt;nitro/mi.h&gt;</CODE><BR> <BR> <CODE>void MI_HBlankDmaCopy32( u32 dmaNo, const void* src, void* dest, u32 size );</CODE><BR> <CODE>void MI_HBlankDmaCopy16( u32 dmaNo, const void* src, void* dest, u32 size );</CODE><BR> <BR> <CODE>void MI_HBlankDmaCopy32If( u32 dmaNo, const void* src, void* dest, u32 size );</CODE><BR> <CODE>void MI_HBlankDmaCopy16If( u32 dmaNo, const void* src, void* dest, u32 size );</CODE><BR>
</DL>
<H2>Arguments</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="13%"><EM><STRONG>dmaNo</STRONG></EM></TD>
<TD width="87%">DMA channel used.</TD>
    </TR>
    <TR>
<TD width="13%"><EM><STRONG>src</STRONG></EM></TD>
<TD width="87%">Transfer source address</TD>
    </TR>
    <TR>
<TD width="13%"><EM><STRONG>dest</STRONG></EM></TD>
<TD width="87%">Transfer destination address</TD>
    </TR>
    <TR>
<TD><EM><STRONG>size</STRONG></EM></TD>
<TD>Transfer size.</TD>
    </TR>
  </TBODY>
</TABLE>
<H2>Return Values</H2>
<P>None.</P>
<H2>Description</H2>
<P>Uses DMA to copy a H-Blank. When a H-Blank starts, DMA starts.</P>
<P><FONT color="#ff0000">When using this mode, set the access right to main memory to <CODE>ARM9</CODE> priority. </FONT>Otherwise, the screen may not be displayed properly due to the delay that is caused by the startup of DMA memory as ARM7 accesses the main memory. Specify the access right priority with the <A href="../exmemory/MI_SetMainMemoryPriority.html"><CODE>MI_SetMainMemoryPriority</CODE></A> function.</P>
<P>The <CODE>MI_HBlankDmaCopy32If</CODE> and <CODE>MI_HBlankDmaCopy16If</CODE> functions generate DMA interrupts when DMA terminates.</P>
<H3><br> DMA Controller Bugs</H3>
<P>See the section titled &quot;DMA Controller Bugs&quot; in the reference for the <CODE><A href="MI_DmaCopy.html">MI_DmaCopy</A></CODE> function.</P>
<H2>Internal Operation</H2>
<P>Uses the following IO registers: DMA<i>n</i> source register (<CODE>0x40000B0</CODE> + 12<i>n</i>), DMA<i>n</i> destination register (<CODE>0x40000B4</CODE> + 12<i>n</i>), and DMA<i>n</i> control register (<CODE>0x40000B8</CODE> + 12<i>n</i>). (<i>n</i> is the DMA channel used.))</P>
<H2>See Also</H2>
<P><A href="MI_DmaCopy.html"><CODE>MI_DmaCopy*</CODE></A><BR> <A href="../exmemory/MI_SetMainMemoryPriority.html"><CODE>MI_SetMainMemoryPriority</CODE></A></P>
<H2>Revision History</H2>
<P>2009/11/20 Added a description of bugs for the DMA controller.<BR>2004/08/26 Explained that access rights to main memory during DMA use are set to <CODE>ARM9</CODE> priority.<BR>2003/12/01 Initial version.</P>

<hr><p>CONFIDENTIAL</p></body>
</HTML>