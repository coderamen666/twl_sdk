<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>MI_InitNDmaConfig</TITLE>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>
<BODY>
<H1 align="left">MI_InitNDmaConfig <IMG src="../../image/TWL.gif" width="24" height="12" border="0" align=middle></H1>
<H2>Syntax</H2>
<DL>
  <DD><CODE>#include &lt;twl/mi.h&gt;</CODE><BR>
  <BR>
  <CODE>void MI_InitNDmaConfig( void );</CODE>
  </DL>
<H2>Arguments</H2>
<P>None.</P>
<H2>Return Values</H2>
<P>None.</P>
<H2>Description</H2>
<P>Initializes the DMA config structure that controls the behavior of the new DMA.</P>
<P>This function is called within <CODE><A href="../../os/init/OS_Init.html">OS_Init()</A></CODE> when the system is running in TWL mode. It can be called any number of times after that without issue. Initialization is done each time.</P>
<P>The DMA config structure is where parameters are stored that can't be set with the DMA operation API. During actual DMA, the system will refer to this structure and operate accordingly. The structure is of type <CODE><A href="MINDmaConfig.html">MINDmaConfig</A></CODE>.</P>
<P>The following values can be configured in the DMA config structure.</P>
<TABLE border="1">
  <TBODY>
    <TR>
      <TH>Member Name</TH>
      <TH>Description</TH>
      <TH>Related Register</TH>
      <TH>Default Values</TH>
    </TR>
    <TR>
      <TD><CODE>intervalTimer</CODE></TD>
      <TD>Interval timer for block transfers.</TD>
      <TD>d15-0 in DMAxBCNT</TD>
      <TD><CODE>1</CODE></TD>
    </TR>
    <TR>
      <TD><CODE>prescaler</CODE></TD>
      <TD>Prescaler of interval timer for block transfers.</TD>
      <TD>d17-16 in DMAxBCNT</TD>
      <TD><CODE>MI_NDMA_INTERVAL_PS_1</CODE></TD>
    </TR>
    <TR>
      <TD><CODE>blockWord</CODE></TD>
      <TD>Number of words in the block transfer.</TD>
      <TD>d19-16 in DMAx_CNT</TD>
      <TD><CODE>MI_NDMA_BWORD_16</CODE></TD>
    </TR>
    <TR>
      <TD><CODE>wordCount</CODE></TD>
      <TD>Number of words in the transfer.</TD>
      <TD>DMAxWCNT</TD>
      <TD><CODE>MI_NDMA_AT_A_TIME</CODE></TD>
    </TR>
  </TBODY>
</TABLE>
<P><BR> <CODE><A href="MI_SetNDmaInterval.html">MI_SetNDmaInterval()</A></CODE> is the function used to set <CODE>intervalTimer</CODE> and <CODE>prescaler</CODE>.<BR><CODE><A href="MI_GetNDmaIntervalTimer.html">MI_GetNDmaIntervalTimer()</A></CODE> is the function used to get the current <CODE>intervalTimer</CODE> setting.<BR><CODE><A href="MI_GetNDmaIntervalPrescaler.html">MI_GetNDmaIntervalPrescaler()</A></CODE> is the function used to get the current <CODE>intervalPrescaler</CODE> setting.<BR><BR> <CODE><A href="MI_SetNDmaBlockWord.html">MI_SetNDmaBlockWord()</A></CODE> is the function used to set <CODE>blockWord</CODE>.<BR><CODE><A href="MI_GetNDmaBlockWord.html">MI_GetNDmaBlockWord()</A></CODE> is the function used to get the current <CODE>blockWord</CODE> setting.<BR><BR> <CODE><A href="MI_SetNDmaWordCount.html">MI_SetNDmaWordCount()</A></CODE> is the function used to set <CODE>wordCount</CODE>.<BR><CODE><A href="MI_GetNDmaWordCount.html">MI_GetNDmaWordCount()</A></CODE> is the function used to get the current <CODE>wordCount</CODE> setting.<BR></P>
<P>Although this function is used to configure the structure that is used by default, developers can copy the values from this structure to to structures of their own creation, or vice versa. Refer to the <CODE><A href="MI_GetNDmaConfig.html">MI_GetNDmaConfig</A></CODE> and <CODE><A href="MI_SetNDmaConfig.html">MI_SetNDmaConfig</A></CODE> functions for more information about this.</P>
<H2>Internal Operation</H2>
<P>Only configures values within the library's internal structure, and does not access the actual registers.</P>
<H2>See Also</H2>
<P><CODE><A href="MI_GetNDmaConfig.html">MI_GetNDmaConfig</A>, <A href="MI_SetNDmaConfig.html">MI_SetNDmaConfig</A><BR></CODE></P>
<H2>Revision History</H2>
<P>2007/09/07 Initial version.</P>
<hr><p>CONFIDENTIAL</p></body>
</HTML>