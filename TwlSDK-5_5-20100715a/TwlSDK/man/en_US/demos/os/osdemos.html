<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.1.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<LINK rel="stylesheet" type="text/css" href="../../css/nitro.css">
<TITLE>OS Demos</TITLE>
</HEAD>
<BODY>
<H1>Operating System (OS) Sample Demos</H1>
<H2>Location</H2>
<P><CODE>$TwlSDK/build/demos/os</CODE><BR> <CODE>$TwlSDK/build/demos.TWL/os</CODE></P>
<H2>Compilation</H2>
<P>Move to the <CODE>$TwlSDK/build/demos/os</CODE> (or <CODE>$TwlSDK/build/demos.TWL/os</CODE>) directory and enter the following.</P>
<BLOCKQUOTE><CODE>% make</CODE></BLOCKQUOTE>
<P>  Compiling begins, and the SRL executable file and the NEF or TEF files with the binary information are generated in:</P>
<BLOCKQUOTE><CODE>$TwlSDK/build/demos/os/(sample name)/bin/(platform)/(target)/</CODE><BR> <CODE>$TwlSDK/build/demos.TWL/os/(sample name)/bin/(platform)/(target)/</CODE></BLOCKQUOTE>
<P>  For example: </P>
<BLOCKQUOTE><CODE>$TwlSDK/build/demos/os/thread-1/bin/ARM9-TS/Release/main.srl</CODE></BLOCKQUOTE>
<P>is the executable file for the <CODE>thread-1</CODE> demo.</P>

<H2>Running the Tool</H2>
<H3>For NITRO ROMs</H3>

<P>When using the ensata emulator:</P>
<UL>
<LI>Execute the NEF and SRL files with ensata.
</UL>
<P>When using IS-NITRO-DEBUGGER:</P>
<UL>
<LI>Load and execute an NLF file with IS-NITRO-DEBUGGER.
<LI>Execute an SRL file with IS-NITRO-DEBUGGER.
<LI>Execute an SRL file with IS-NITRO-DEBUGGER using the <CODE>loadrun.exe</CODE> tool from the command line.
</UL>
<P>When using IS-TWL-DEBUGGER:</P>
<UL>
<LI>Load and execute an NLF file with IS-TWL-DEBUGGER.
<LI>Execute an SRL file with IS-TWL-DEBUGGER.
<LI>Execute an SRL file with IS-TWL-DEBUGGER using the <CODE>loadrun.TWL.exe</CODE> tool from the command line.
</UL>
<H3>For TWL/NITRO HYBRID ROMs</H3>
<P>When using IS-NITRO-DEBUGGER:</P>
<UL>
<LI>Execute an SRL file with IS-NITRO-DEBUGGER.
<LI>Execute an SRL file with IS-NITRO-DEBUGGER using the <CODE>loadrun.exe</CODE> tool from the command line.
</UL>
<P>If using IS-TWL-DEBUGGER:</P>
<UL>
<LI>Load and execute a TLF file with IS-TWL-DEBUGGER.
<LI>Execute an SRL file with IS-TWL-DEBUGGER.
<LI>Execute an SRL file with IS-TWL-DEBUGGER using the <CODE>loadrun.TWL.exe</CODE> tool from the command line.
</UL>
<H3>For TWL LIMITED ROMs</H3>
<P>If using IS-TWL-DEBUGGER:</P>
<UL>
<LI>Load and execute a TLF file with IS-TWL-DEBUGGER.
<LI>Execute an SRL file with IS-TWL-DEBUGGER.
<LI>Execute an SRL file with IS-TWL-DEBUGGER using the <CODE>loadrun.TWL.exe</CODE> tool from the command line.
</UL>
<H2>Description</H2>
<BR>
<TABLE width="720">
  <TBODY>
    <TR>
<TH>Name</TH>
<TH>Directory</TH>
<TH>Operation</TH>
    </TR>
    <TR>
<TD width="187"><CODE>alarm-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Uses one one-time alarm.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>alarm-2</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Uses the periodic alarm and a one-time alarm.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>arena-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Sets up the arena and acquires memory.</TD>
    </TR>
    <TR>
<TD><CODE>argument-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Embeds argument data in the ROM image and display.</TD>
    </TR>
    <TR>
<TD><CODE>argument-2</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Creates argument data from a string in real-time and sets it.</TD>
    </TR>
    <TR>
<TD><CODE>callTrace-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Carries out the function call trace display without using the thread system.</TD>
    </TR>
    <TR>
<TD><CODE>callTrace-2</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Carries out the function call trace display using the thread system.</TD>
    </TR>
    <TR>
<TD><CODE>consoleType-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Displays information about the operating environment on the screen.</TD>
    </TR>
    <TR>
<TD><CODE>cplusplus-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Initializes the memory control before calling the static initializer for C++ implementation.</TD>
    </TR>
    <TR>
<TD><CODE>cpuSpeed-1</CODE></TD>
<TD><CODE>demos.TWL</CODE></TD>
<TD>Changes the CPU speed between normal speed and double speed.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>entropy-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Uses the <A href="../../os/entropy/OS_GetLowEntropyData.html"><CODE>OS_GetLowEntropyData</CODE></A> function.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>event-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Starts a thread in response to an event.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>exceptionDisplay-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Displays exceptions and uses the exception callback.<BR>(IS-TWL-DEBUGGER does not use exception callbacks.)</TD>
    </TR>
    <TR>
<TD><CODE>exceptionDisplay-2</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Pseudo-generates an exception when dividing by zero.</TD>
    </TR>
    <TR>
<TD><CODE>exceptionDisplay-3</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Shows the function call trace information when an exception occurs.<BR>(IS-TWL-DEBUGGER does not display function call trace information.)</TD>
    </TR>
    <TR>
<TD><CODE>exceptionDisplay-4</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Displays the exception context on the screen when an exception occurs.<BR>(IS-TWL-DEBUGGER does not display context on the screen.)</TD>
    </TR>
    <TR>
<TD><CODE>forChina-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>A simplified sample for creating applications designed for China.</TD>
    </TR>
    <TR>
<TD><CODE>forKorea-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>A simplified sample for creating applications designed for Korea.</TD>
    </TR>
    <TR>
<TD><CODE>functionCost-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Measures and displays the function cost.</TD>
    </TR>
    <TR>
<TD><CODE>functionCost-2</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Measures and displays the function cost with multiple threads.</TD>
    </TR>
    <TR>
<TD><CODE>functionCost-3</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Calculates and displays the total function cost measured with multiple threads.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>heap-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Creates a heap and then allocates and frees memory areas.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>message-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Starts a thread in response to an event.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>mutex-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">When accessing one function from multiple threads, uses a mutex to gain exclusive control.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>mutex-2</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Unlocks a mutex when a thread is completed.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>os_jump</CODE></TD>
<TD><CODE>demos.TWL</CODE></TD>
<TD width="525">Demonstrates the operation of functions that go through hardware reset such as <A href="../../os/appJump/OS_JumpToSystemMenu.html"><CODE>OS_JumpToSystemMenu</CODE></A> and <A href="../../os/appJump/OS_RebootSystem.html"><CODE>OS_RebootSystem</CODE></A>.</TD>
    </TR>
    <TR>
<TD><CODE>reset-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Resets software.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>simple-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">The simplest of the demos.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>sleep-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Puts a thread to sleep for a specified length of time.</TD>
    </TR>
    <TR>
<TD><CODE>spinwait-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Uses the <A href="../../os/system/OS_SpinWait.html"><CODE>OS_SpinWait</CODE></A> function to wait for a fixed period of time.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>thread-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Creates two threads so that one directly wakes up the other.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>thread-2</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Creates two threads and starts each one from an interrupt handler.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>thread-3</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">An example of how to use the <A href="../../os/thread/OS_JoinThread.html"><CODE>OS_JoinThread</CODE></A> function.</TD>
    </TR>
    <TR>
<TD><CODE>threadQueue-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Starts a thread using a thread queue.</TD>
    </TR>
    <TR>
<TD><CODE>threadYield-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>An example of how to use the <A href="../../os/thread/OS_YieldThread.html"><CODE>OS_YieldThread</CODE></A> function.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>tick-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Gets the system's tick value.</TD>
    </TR>
    <TR>
<TD width="187"><CODE>timer-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD width="525">Uses a 16-bit timer and a 32-bit timer.</TD>
    </TR>
    <TR>
<TD><CODE>valarm-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Uses an alarm that uses V-Count.</TD>
    </TR>
    <TR>
<TD><CODE>waitIrq-1</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Waits for a V-Blank while operating a separate thread.</TD>
    </TR>
    <TR>
<TD><CODE>waitIrq-2</CODE></TD>
<TD><CODE>demos</CODE></TD>
<TD>Shows the difference in operation between the <A href="../../os/irq/OS_WaitIrq.html"><CODE>OS_WaitIrq</CODE></A> and <A href="../../os/irq/OS_WaitAnyIrq.html"><CODE>OS_WaitAnyIrq</CODE></A> functions.</TD>
    </TR>
  </TBODY>
</TABLE>
<H2>Operation</H2>
<P><CODE></CODE>The <CODE>exceptionDisplay-*</CODE> and <CODE>reset-1</CODE> demos do not work properly with ensata.</CODE></P>
<P><CODE></CODE>With IS-TWL-DEBUGGER, the <CODE>exceptionDisplay-*</CODE> demos halt on the code where the interrupt occurs.</CODE></P>
<P>Use <CODE><A href="../../romfiles/TwlNmenu.html">TwlNmenu.srl</A></CODE> to import the TAD file into system memory before you execute <CODE>arbitrary_jump</CODE>.</P>
<P>Several of the demos use the <A href="../../os/debug/OS_Printf.html"><CODE>OS_Printf</CODE></A> function to display information in the debug console. However, the FINALROM build of a ROM disables the <A href="../../os/debug/OS_Printf.html"><CODE>OS_Printf</CODE></A> function, so this information cannot be verified with the FINALROM build.</P>
<H2>See Also</H2>
<P><A href="../../os/list_os.html">OS Function List</A></P>
<H2>Revision History</H2>
<P>
2009/09/10 Removed the <CODE>forChina-fs</CODE> sample. <BR>2009/07/01 Revised the descriptions of the <CODE>exceptionDisplay-*</CODE> demos. <BR>2009/06/17 Added a description of the <CODE>exceptionDisplay-4</CODE> demo. <BR>2008/07/09 Added <CODE>argument-1</CODE> and <CODE>argument-2</CODE>, which had been deleted temporarily. <BR>2008/04/25 Reworked the table. Changed the lists for TWL.<BR> 2006/10/19 Added description for <code>forKorea-1</code> sample.<br /> 2005/09/09 Added <CODE>argument-2</CODE>.<BR> 2005/07/22 Corrected the erroneous omission of <CODE>functionCost-1</CODE>.<BR> 2005/07/21 Added <CODE>argument-1</CODE>.<BR> 2005/07/14 Added <CODE>thread-10</CODE>.<BR> 2005/07/13 Added <CODE>thread-6</CODE>, <CODE>thread-7</CODE>, <CODE>thread-8</CODE>, and <CODE>thread-9</CODE>.<BR> 2005/07/11 Added description for <code>forChina-1</code> and <CODE>forChina-fs</code> samples.<br /> 2005/05/10 Added description of <code>favorite-color</code> demo.<br /> 2005/03/02 Revised descriptions to reflect current support environment conditions.<br /> 2004/12/08 Removed <code>interrupt-key-1</code>, Revised <B>Operation</B>.<br /> 09/01/2004 Added <code>reset-1</code>.<br /> 2004/08/17 Standardized the notation of IS-NITRO-EMULATOR.<br /> 2004/07/10 Changed from <code>.bin</code> to <code>.srl.</code>.<br /> 2004/06/25 Added <code>thread-5.</code><br /> 2004/06/08 Made it possible to insert the demo of the <code>profile</code> function into <code>Makefile</code> by default.<br /> 2004/05/24 Added <code>functionCost-1</code>, <code>functionCost-2</code>, <code>functionCost-3</code>, <code>waitlrq-1</code>, and <code>waitlrq-2</code>. Added description about necessary <code>profile</code> functions.<br /> 2004/04/15 Added description of <code>callTrace-1</code>, <code>callTrace-2</code>, <code>cplusplus-1</code>, and <code>exceptionDisplay-3</code>.<br /> 2004/04/05 Added description of <code>mutex-2</code>, <code>sleep-1</code>, and <code>timer-1</code>. Changed <code>systemClock-1</code> to <code>tick-1</code>.<br /> 2004/03/17 Added description of <code>exceptionDisplay-2</code>, <code>valarm-1</code>, and <code>spinWait-1.</code><br /> 2004/02/05 Added description of <code>alarm-1</code>, <code>alarm-2</code>, <code>exceptionDisplay-1</code>, and <code>systemClock-1</code>.<br /> 2004/01/18 Moved <code>interrupt-dma-1</code> sample to <code>MI</code> as <code>dmaCallback-1</code>.<br /> 2004/01/09 Initial version. </P>
<hr><p>CONFIDENTIAL</p></body>
</HTML>