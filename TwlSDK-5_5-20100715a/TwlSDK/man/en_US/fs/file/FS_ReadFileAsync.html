<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>FS_ReadFileAsync</TITLE>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>
<BODY>
<H1 align="left">FS_ReadFileAsync <img src="../../image/NTR.gif"align="middle"><img src="../../image/TWL.gif" align="middle"></H1>
<H2>Syntax</H2>
<DL>
<DD><CODE>#include &lt;nitro/fs.h&gt;</CODE><BR> <BR> <CODE>s32 FS_ReadFileAsync( <A href="../fs_file_type.html">FSFile</a> *p_file, void *dst, s32 len );</CODE><BR>
</DL>
<H2>Arguments</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="13%"><EM><STRONG>p_file</STRONG></EM></TD>
<TD width="87%">Address of the <A href="../fs_file_type.html"><CODE>FSFile</CODE></A> structure.</TD>
    </TR>
    <TR>
<TD width="13%"><EM><STRONG>dst</STRONG></EM></TD>
<TD width="87%">Address of the storage destination buffer.</TD>
    </TR>
    <TR>
<TD width="13%"><EM><STRONG>len</STRONG></EM></TD>
<TD width="87%">Length of data being read, in bytes.</TD>
    </TR>
  </TBODY>
</TABLE>
<H2>Return Values</H2>
<P> If the data is read correctly, it returns the number of bytes. Otherwise, it returns -1.</P>
<H2>Description</H2>
<P>
This function asynchronously reads a specified amount of data from current position of the file pointer. If the specified amount of data extends beyond the end of the file, the function reads to the end of the file and returns that as the size.<br><br> Unlike <code><a href="FS_WriteFile.html">FS_ReadFile()</a></code>, this function returns control immediately and starts asynchronous execution.<br> To confirm process completion, periodically check the return value with the <A href="FS_IsBusy.html"><code>FS_IsBusy</code></A> function, or set the thread to wait status with the <A href="FS_WaitAsync.html"><code>FS_WaitAsync</code></A> function. If you are using the <A href="../archive_rom_spec.html"><code>ROM archive</code></A> to read Game Card data, also see the description for the <a href="../../card/rom/CARD_ReadRomAsync.html"><code>CARD_ReadRomAsync</code></a> function. <br>
</P>
<H2>Note</H2>
<P><FONT color="#800000">If the archive cannot run the process asynchronously, this function becomes a synchronous process, just like <a href="FS_ReadFile.html"><code>FS_ReadFile</code></a>. This function cannot be called from the interrupt handler (IRQ mode). The process may not be completed if interrupts are prohibited.</FONT></P>
<H2>See Also</H2>
<P><CODE><A href="../fs_file_type.html">FSFile</A><BR> <A href="FS_ReadFile.html">FS_ReadFile</A><BR> <A href="FS_WaitAsync.html">FS_WaitAsync</A><BR> <A href="FS_GetFileLength.html">FS_GetFileLength</A><BR> <A href="FS_GetFilePosition.html">FS_GetFilePosition</A><BR> <A href="FS_SeekFile.html">FS_SeekFile</A><BR> <A href="FS_SeekFileToBegin.html">FS_SeekFileToBegin</A><BR> <A href="FS_SeekFileToEnd.html">FS_SeekFileToEnd</A> </CODE></P>
<H2>Revision History</H2>
<P>
2008/10/02 Updated the access list.<br>2005/08/28 Added link to the <CODE>CARD_ReadRomAsync</CODE> function in the Description section.<br>2004/09/24 Added the description in the Caution section regarding the conditions for calling this function.<br>2004/07/13 Revised description to that of the general archive.<br>2004/05/14 Initial version.
</P>
<hr><p>CONFIDENTIAL</p></body>
</HTML>
