<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.1.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>mic2wav</TITLE>
<LINK rel="stylesheet" href="../css/nitro.css" type="text/css">
<STYLE type="text/css">
<!--
.sample_source{
  background-color : #e8e8e8;
}
H3{
  color : teal;
}
.command_list{
  margin-bottom : 16pt;
}
.command_desc{
  }
.command_item{
  margin-top : 16pt;
  background-color : #e8e8e8;
}
.blockquoted_table {
  border : 1px;
  width : 80%;
}
TD,TH{
  border-color  : #c0d8d8;
  padding       : 1pt 4pt 1pt 4pt;
  border-width  : 1px;
  border-style  : solid;
}
-->
</STYLE>
</HEAD>
<BODY>
<H1 align="left">mic2wav <img src="../image/NTR.gif" align="middle"><img src="../image/TWL.gif" align="middle"></H1>
<H2>Description</H2>
<P><code>mic2wav</code> is a tool that takes text format recording data obtained by running the microphone sample demos <A href="../demos/spi/spidemos.html">mic-2</A > and <A href="../demos/spi/spidemos.html">mic-4</A>, then converts them into .wav audio files in PCM format.</P>

<H2>Using the Tool</H2>
<H3>Start Command</H3>
<P><CODE>% mic2wav TEXTFILE [OUTPUT_DIRECTORY]</CODE></P>
<P>  This tool interprets the text data that is written in the file specified in TEXTFILE. It outputs the individual data samples as .wav files to the directory specified in OUTPUT_DIRECTORY. OUTPUT_DIRECTORY can be omitted. When omitting it, it will be generated at the same location as the file specified in TEXTFILE.</P>
<P>The file names are numbers generated in ascending order 00000000.wav, 00000001.wav, ... When there is an existing file with the same name, it is written over.</P>
<H3>Audio Text Data Formats</H3>
<P><code>mic2wav</code> interprets the text data based on the following formats.</P>
<P>All formats are interpreted on a per-line basis, with decisions based on the text strings at the head of the row.</P>
<P></P>
<TABLE border="1">
  <TBODY>
    <TR>
<TH>Format</TH>
<TH>Description</TH>
<TH>Details</TH>
    </TR>
    <TR>
<TD>$rate=<em>RATE</em></TD>
<TD>Specification of Frequency</TD>
<TD>Sampling frequencies in Hz units are specified in the <I><FONT color="#400000">RATE</FONT></I> section as integers.
      </TD>
    </TR>
    <TR>
<TD>$bits=<em>BITS</em></TD>
<TD>Specification of Bit Count</TD>
<TD>The quantization bit rate is specified in integers in the BITS section. The following values can be accommodated as .wav file PCM formats. <BR>8 bit<BR>16 bit<BR><BR>The microphone demos, <a href="../demos/spi/spidemos.html">mic-2</a> and <A href="../demos/spi/spidemos.html">mic-4</A>, support the recording of all of these values.
      </TD>
    </TR>
    <TR>
<TD>$end</TD>
<TD>Specification of Data Termination</TD>
<TD>The series of settings and sampling data so far will be output individual .wav files. The output files will be generated automatically according to the rules described above. After being output, the sampling data is all discarded and the system returns to the pre-input analytical state.
      </TD>
    </TR>
    <TR>
<TD>|<I><FONT color="#400000">DATA</FONT></I>,<I><FONT color="#400000">DATA</FONT></I>, ...</TD>
<TD>Specification of Sampling</TD>
<TD>Based on the settings, the DATA section is read in as sampling data  in unsigned, 16-bit whole numbers. If the quantization bit rate is 8 bits, then the data will be 00 ~ FF, if 16 bits, then 0000 ~FFFF. If the number of digits do not match exactly, they will be simply ignored. The microphone sample demos <a href="../demos/spi/spidemos.html">mic-2</a> and <A href="../demos/spi/spidemos.html">mic-4</A> will output 16 samples per line. XXXIf this format appears more than once, the subsequent <em><strong><code>$rate</code></strong></em> and <em><strong><code>$bits</code></strong></em> setting changes will be ignored unless data end has been specified using <CODE>$end</CODE>.
      </TD>
    </TR>
    <TR>
      <TD># ...</TD>
<TD>Comments</TD>
<TD>This is interpreted as an explicit comment row and it reads it and discards it without doing anything.
      </TD>
    </TR>
    <TR>

<TD>Other</TD>
<TD>Illegal Formats</TD>
<TD>Unrecognizable, illegal formats are read and discarded without doing anything.
      </TD>
    </TR>
  </TBODY>
</TABLE>
<P>Based on the above formats, the text data output by the microphone sample demos <A href="../demos/spi/spidemos.html">mic-2</A> and <A href="../demos/spi/spidemos.html">mic-4</A> is batch-generated as audio files. For the text, text strings need to be copied from the debug log output window and prepared as arbitrary text files.
</P>
<H2>Location</H2>
<P><CODE>$TwlSDK/tools/bin/mic2wav.exe</CODE></P>
<H2>See Also</H2>
<P><CODE><A href="../demos/spi/spidemos.html">Microphone Sample Demos (mic-2 / mic-4)</A></CODE></P>
<H2>Revision History</H2>
<P>
2008/09/11 Removed a description of the fact that use under the TWL environment is not recommended.<BR> 2008/07/18 Corrected the descriptoin of the sampling rate.<BR> 2004/08/17 Standardized the notation used for IS-NITRO-EMULATOR.<BR> 2004/06/18 Initial version.</P><BR>
<hr><p>CONFIDENTIAL</p></body>
</HTML>