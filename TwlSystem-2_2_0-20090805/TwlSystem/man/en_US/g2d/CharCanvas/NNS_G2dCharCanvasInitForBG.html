<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
	<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
	<META http-equiv="Content-Style-Type" content="text/css">
	<TITLE>NNS_G2dCharCanvasInitForBG</TITLE>
	<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>

<BODY>

<H1 align="left">NNS_G2dCharCanvasInitForBG</H1>

<H2>Syntax</H2>
<DL>
  <DD>
  <PRE><CODE>
#include &lt;nnsys/g2d/g2d_CharCanvas.h&gt;

void NNS_G2dCharCanvasInitForBG(
	NNSG2dCharCanvas* pCC,
	void* charBase,
	int areaWidth,
	int areaHeight,
	NNSG2dCharaColorMode colorMode
);</CODE></PRE>
</DL>

<H2>Arguments</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="13%"><CODE>pCC</CODE></TD>
<TD width="87%"> [OUT] Pointer to CharCanvas. </TD>
    </TR>
    <TR>
<TD width="13%"><CODE>charBase</CODE></TD>
<TD width="87%"> [IN] Pointer to starting point of characters assigned to CharCanvas. Must have 4-byte alignment. </TD>
    </TR>
    <TR>
<TD width="13%"><CODE>areaWidth</CODE></TD>
<TD width="87%"> [IN] Number of characters in the horizontal direction of CharCanvas. </TD>
    </TR>
    <TR>
<TD width="13%"><CODE>areaHeight</CODE></TD>
<TD width="87%"> [IN] Number of characters in the vertical direction of CharCanvas. </TD>
    </TR>
    <TR>
<TD width="13%"><CODE>colorMode</CODE></TD>
<TD width="87%"> [IN] Color mode of target BG. </TD>
    </TR>
  </TBODY>
</TABLE>

<H2>Return Values</H2>
<P>
	None.
</P>

<H2>Description</H2>
<P>
	Initializes the <CODE>NNSG2dCharCanvas</CODE> structure to build the CharCanvas on the Character BG screen.
</P>
<P>
	With this function, the CharCanvas gets built with <i>n</i> number of characters, assigned starting from <CODE>charBase</CODE>, where <i>n</i> = <CODE>areaWidth</CODE> * <CODE>areaHeight</CODE>. Note that the maximum number of characters that can be assigned to the CharCanvas is 256 for an Affine BG, and 1024 for Text BG and Affine Extended BG.
</P>
<P>
	<img src="BG.png" alt="Conceptual Diagram">
</P>
<P>
	The <CODE>colorMode</CODE> argument takes either of these values:
</P>
	<TABLE border="1" width="100%">
	  <TBODY>
	    <TR>
	      <TD width="13%"><CODE>NNS_G2D_CHARA_COLORMODE_16</CODE></TD>
	      <TD width="87%"> Use 16-color characters </TD>
	    </TR>
	    <TR>
	      <TD width="13%"><CODE>NNS_G2D_CHARA_COLORMODE_256</CODE></TD>
	      <TD width="87%"> Use 256-color characters </TD>
	    </TR>
	  </TBODY>
	</TABLE>


<H2>Sample code</H2>
<CODE><pre>
    const int width = 24;
    const int height = 8;
    const int offset = 0x40;

    NNSG2dCharCanvas cc;
    GXCharFmt16* pCharBase = (GXCharFmt16*)G2_GetBG0CharPtr();


    // Build CharCanvas using main BG0 characters.
    NNS_G2dCharCanvasInitForBG(
        &amp;cc,                            // 
        pCharBase + offset              // Build CharCanvas using (width * height) number of characters.
        width,                          // The reference point is the character
        height,                         // that is &quot;offset&quot; away from the character base.
        NNS_G2D_CHARA_COLORMODE_16      // <br> 
    );
</pre></CODE>

<H2>See Also</H2>
<P></P>

<H2>Revision History</H2>
<P>2007/01/11 Changed the type of the fifth argument from <CODE>NNSG2dColorMode</CODE> to <CODE>NNSG2dCharaColorMode</CODE>.<br> 2005/09/29 Corrected IN/OUT indications for arguments.<br> 2005/05/25 Initial version.</P>
<hr><p>CONFIDENTIAL</p></body>

</HTML>
